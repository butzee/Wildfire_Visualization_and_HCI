<!DOCTYPE html>
<html>
  <head>
      <meta charset="UTF-8">
      <title>US Wildfire History</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" type="text/css" href="../styles/map.css">
      <link rel="stylesheet" type="text/css" href="../styles/styling.css">
      <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
      
        <link rel="stylesheet" href="../../node_modules/maptalks/dist/maptalks.css">
      <script type="text/javascript" src="../../node_modules/maptalks/dist/maptalks.js"></script>
  </head>

  <body>
    <main>
      <div class="side">
          <div class="side-decorator">Actions</div>
          <nav aria-label="actions">
            <button class="btn-sidebar" onclick="location.href='./task.html'">Task</button>
            <button class="btn-sidebar" onclick="location.href='./overview.html'">Overview</button>
            <button class="btn-sidebar" onclick="location.href='./map.html'" >Map</button>
            <button class="btn-sidebar" onclick="location.href='./statistic.html'">Statistics</button>
          </nav>
      </div>

      <div class="top">
          <div class="top-decorator">Filters</div>
          <div aria-label="filters">
              <button class="btn-filters">Year</button>
              <button class="btn-filters">Cause</button>
              <button class="btn-filters">Size</button>
          </div>
      </div>

      <div id="map" class ="main" style="border-style:dotted!"></div>

      <div class="bottom">
        <div aria-label="controls">
          <button class="btn-controls"><span class="material-symbols-rounded">egg_alt</span></button>
          <button class="btn-controls"><span class="material-symbols-rounded">play_arrow</span></button>
          <button class="btn-controls"><span class="material-symbols-rounded">pause</span></button>
          <button class="btn-controls"><span class="material-symbols-rounded">stop</span></button>
          <input type="range" name="range" id="range">
        </div>
      </div>
    </main>
    <script>
        //const testmgr = require('models/testmgr');

        const options = {
            'position' : 'top-right'
        };

      class ResizeButton extends maptalks.control.Control {
        buildOn(map) {
          var dom = maptalks.DomUtil.createEl("button");
          dom.className = "btn-controls";
          dom.onclick = fit_to_extend;
          var span = maptalks.DomUtil.createEl("span");
          span.className = "material-symbols-rounded";
          span.textContent = "resize";
          dom.appendChild(span);
          return dom;
        }
      }
        //<button style="position:absolute;top:80px;right:10px" onClick="fit_to_extend()"
        //                   className="btn-controls">
          //    <span className="material-symbols-rounded">resize</span>
        //</button>
      ResizeButton.mergeOptions(options);

        var map = new maptalks.Map('map', {
          center: [-98, 37],
          zoom: 4.4,
          minZoom : 4.4,
          baseLayer: new maptalks.TileLayer('base', {
            'urlTemplate' : 'http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',
            'subdomains'  : ['a','b','c','d'],
            'attribution'  : '&copy; <a href="http://www.osm.org/copyright">OSM</a> contributors, '+
            '&copy; <a href="https://carto.com/attributions">CARTO</a>'
          })
        });

        const extent = map.getExtent();
        map.setMaxExtent(extent);

        function fit_to_extend() {
            map.fitExtent(extent, 0);
            //testmgr.getShapes()
        }

        var resizeButton = new ResizeButton();
        map.addControl(resizeButton);
    </script>
    <script src="../../renderer.js"></script>
  </body>
</html>